<ion-header>

  <ion-navbar>
    <ion-title>New anaerobic mark</ion-title>
    <ion-buttons start>
      <button ion-button (click)="cancel()">
        <span showWhen="ios">
          Cancel
        </span>
        <ion-icon name="md-close" showWhen="core,android,windows"></ion-icon>
      </button>
    </ion-buttons>
    <ion-buttons end>
      <button ion-button (click)="done()" [disabled]="!isReadyToSave" strong>
        <span showWhen="ios">
          Create
        </span>
        <ion-icon name="md-checkmark" showWhen="core,android,windows"></ion-icon>
      </button>
    </ion-buttons>
  </ion-navbar>

</ion-header>


<ion-content>
  <form *ngIf="form" [formGroup]="form" (ngSubmit)="done()">

    <ion-avatar>
      <img src="assets/imgs/logo.png" alt="FitG image"/>
    </ion-avatar>

    <ion-list>

      <div padding style="color: #919191">
        Current series: {{series}}
        <div style="float:right">
          Add/Remove serie:
          <ion-icon margin-left margin-right name="add"(click)="addSerie()"></ion-icon>
          <ion-icon name="remove"(click)="removeSerie()"></ion-icon>
        </div>
      </div>

      <ion-grid formArrayName="series">
        <ion-row [formGroupName]="i"
                 *ngFor="let serie of form.controls.series.controls; let i = index">
          <ion-col>
            <ion-item>
              <ion-input type="number" placeholder="Repetitions" formControlName="repetitions"></ion-input>
            </ion-item>
          </ion-col>

          <ion-col>
            <ion-item>
              <ion-input type="number" placeholder="Weight" formControlName="weight"></ion-input>
            </ion-item>
          </ion-col>

          <ion-col>
            <ion-item>
              <ion-input type="number" placeholder="Time" formControlName="time"></ion-input>
            </ion-item>
          </ion-col>

        </ion-row>
      </ion-grid>

      <ion-item>
        <ion-textarea type="text" rows="5" placeholder="Comment"
                      formControlName="comment"></ion-textarea>
      </ion-item>

    </ion-list>
  </form>
</ion-content>
